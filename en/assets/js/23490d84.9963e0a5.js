"use strict";(self.webpackChunkjwher_blog=self.webpackChunkjwher_blog||[]).push([[1039],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return f}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),s=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),m=s(n),f=a,g=m["".concat(l,".").concat(f)]||m[f]||c[f]||o;return n?r.createElement(g,i(i({ref:t},u),{},{components:n})):r.createElement(g,i({ref:t},u))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var s=2;s<o;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9788:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return f},frontMatter:function(){return p},metadata:function(){return s},toc:function(){return c}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],p={authors:["jwher"],description:"K8s tip: ConfigMap",slug:"k8s-tip-configmap",tags:["tech","kubeflow","kubernetes","short"],title:"K8S Tip Configmap"},l=void 0,s={permalink:"/en/posts/k8s-tip-configmap",editUrl:"https://github.com/jwher/jwher.github.io/posts/2021-08-11-k8s-tip-configmap/index.md",source:"@site/posts/2021-08-11-k8s-tip-configmap/index.md",title:"K8S Tip Configmap",description:"K8s tip: ConfigMap",date:"2021-08-11T00:00:00.000Z",formattedDate:"August 11, 2021",tags:[{label:"tech",permalink:"/en/posts/tags/tech"},{label:"kubeflow",permalink:"/en/posts/tags/kubeflow"},{label:"kubernetes",permalink:"/en/posts/tags/kubernetes"},{label:"short",permalink:"/en/posts/tags/short"}],readingTime:3.06,truncated:!0,authors:[{name:"Jeongwon Her",title:"MLOps Engineer",url:"https://github.com/jwher",imageURL:"https://github.com/jwher.png",key:"jwher"}],frontMatter:{authors:["jwher"],description:"K8s tip: ConfigMap",slug:"k8s-tip-configmap",tags:["tech","kubeflow","kubernetes","short"],title:"K8S Tip Configmap"},prevItem:{title:"Dex",permalink:"/en/posts/dex"},nextItem:{title:"Golang Setup",permalink:"/en/posts/golang-setup"}},u={authorsImageUrls:[void 0]},c=[{value:"\ucee8\ud53c\uadf8\ub9f5",id:"\ucee8\ud53c\uadf8\ub9f5",level:2},{value:"\uc608\uc81c",id:"\uc608\uc81c",level:2},{value:"Tips",id:"tips",level:2},{value:"Reference",id:"reference",level:3}],m={toc:c};function f(e){var t=e.components,p=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},m,p,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"kubernetes",src:n(1635).Z,width:"723",height:"702"}),"\n",(0,o.kt)("em",{parentName:"p"},"\ucee8\ud14c\uc774\ub108 \uc124\uc815 \ub370\uc774\ud130\ub97c \uad00\ub9ac\ud558\ub294 \ubc29\ubc95"),"  "),(0,o.kt)("h1",{id:"\ubaa9\ucc28"},"\ubaa9\ucc28"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#%EC%BB%A8%ED%94%BC%EA%B7%B8%EB%A7%B5"},"\ucee8\ud53c\uadf8\ub9f5")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#%EC%98%88%EC%A0%9C"},"\uc608\uc81c"))),(0,o.kt)("h2",{id:"\ucee8\ud53c\uadf8\ub9f5"},"\ucee8\ud53c\uadf8\ub9f5"),(0,o.kt)("p",null,"\uac04\ub2e8\ud55c(?) \ud504\ub85c\uadf8\ub7a8\uc744 \ub9cc\ub4e4\uc5b4 \ubcf4\uc2e0 \ubd84\uc740 \ud658\uacbd \ubcc0\uc218\ub97c \ucf54\ub4dc\ub77c\uc778\uc5d0 \uc9c1\uc811(inline) \uc801\uae30\ubcf4\ub2e4,\n\uc2e4\ud589\uc2dc\uac04 \ud30c\ub77c\ubbf8\ud130\ub098 \ud30c\uc77c\uc5d0\uc11c \uc77d\ub3c4\ub85d \uc124\uacc4\ud574\ubcf8 \uacbd\ud5d8\uc774 \uc788\uc744 \uac83\uc785\ub2c8\ub2e4."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{align:"center"},"# Fix \uc6cc\ub4dc \ud30c\uc77c\uc744 \uc5f4\ub54c, \uc6cc\ub4dc\ud504\ub85c\uc138\uc11c \ucf54\ub4dc\uc5d0\uc11c \ud30c\uc77c \uc774\ub984\uc744 \uc218\uc815\ud558\uace0, \ube4c\ub4dc\ud558\uace0, \ub2e4\uc2dc \uc2e4\ud589\ud558\ub294 \uacfc\uc815\uc744 \uac70\uccd0\uc57c \ud55c\ub2e4\uba74 \uc815\ub9d0 \ub054\uc9c1\ud560 \uac83\uc785\ub2c8\ub2e4.")),(0,o.kt)("p",null,"\ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0 \ub610\ud55c \ud658\uacbd\ubcc4 \uad6c\uc131\uc744 \ubd84\ub9ac\ud574 \uc774\uc2dd\uc131\uc744 \ub192\uc785\ub2c8\ub2e4.\n",(0,o.kt)("em",{parentName:"p"},"(\ub7f0\ud0c0\uc784 \ud30c\ub77c\ubbf8\ud130\ub098 \uacf5\uc720 \ubcfc\ub968\uc744 \uc0ac\uc6a9\ud574\uc11c\uc694)"),'\n\uadf8\ub807\ub2e4\uba74 \uc774 "\uad6c\uc131 \ub370\uc774\ud130"\ub294 \uc5b4\ub514\uc5d0 \uc800\uc7a5\ud574\uc57c \ud560\uae4c\uc694?\n\uac8c\ub2e4\uac00 \ucfe0\ubc84\ub124\ud2f0\uc2a4 \ud658\uacbd\uc774\ub77c\uba74\uc694!\ud83d\ude35'),(0,o.kt)("p",null,"\ucfe0\ubc84\ub124\ud2f0\uc2a4\uc5d0\uc120 \ucee8\ud53c\uadf8\ub9f5(ConfigMap)\uc744 \uc0ac\uc6a9\ud574 \uad6c\uc131 \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud569\ub2c8\ub2e4.\n\ucee8\ud53c\uadf8\ub9f5\uc740 \ud0a4-\uac12 \uc30d\uc73c\ub85c \uae30\ubc00\uc774 \uc544\ub2cc \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\ub294 \ub370 \uc0ac\uc6a9\ud558\ub294 API \uc624\ube0c\uc81d\ud2b8\uc785\ub2c8\ub2e4.\n\ud558\uc9c0\ub9cc, \ucee8\ud53c\uadf8\ub9f5\uc5d0 \uc800\uc7a5\ub41c \ub370\uc774\ud130\ub294 1MB\ub97c \ucd08\uacfc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\ub354 \ud070 \uc124\uc815\uc744 \uc800\uc7a5\ud558\ub824\uba74, ",(0,o.kt)("a",{parentName:"p",href:"https://kubernetes.io/ko/docs/concepts/storage/persistent-volumes/"},"Persistent Volume")," \uc744 \uc0ac\uc6a9\ud558\uac70\ub098 DB,\nFileserver \ub610\ub294 ",(0,o.kt)("a",{parentName:"p",href:"https://jwher.github.io/minio"},"Object Storage")," \ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. "),(0,o.kt)("br",null),(0,o.kt)("h2",{id:"\uc608\uc81c"},"\uc608\uc81c"),(0,o.kt)("p",null,"\uac04\ub2e8\ud55c \ud0a4/\uac12 \ucee8\ud53c\uadf8\ub9f5\uc785\ub2c8\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: someapp-config\ndata:\n  cluster-name: ""\n  clusterDomain: cluster.local\n  istio-namespace: istio-system\n')),(0,o.kt)("br",null),(0,o.kt)("p",null,"\uc774 \ucee8\ud53c\uadf8\ub9f5\uc744 \uc0ac\uc6a9\ud558\ub294 \ub514\ud50c\ub85c\uc774\uba3c\ud2b8(\ud30c\ub4dc)\ub97c \uc0b4\ud3b4\ubcfc\uae4c\uc694?"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"kind: Deployment\nmetadata:\n  name: ml-pipeline-ui\n  namespace: kubeflow\nspec:\n  replicas: 1\n  template:\n    metadata:\n    spec:\n      containers:\n      - env:\n        - name: CLUSTER_DOMAIN\n          valueFrom:\n            configMapKeyRef:\n              key: clusterDomain    # \uac00\uc838\uc62c \ud0a4\n              name: someapp-config  # \ucee8\ud53c\uadf8\ub9f5 \uc774\ub984\n        - name: ISTIO_NAMESPACE\n          valueFrom:\n            configMapKeyRef:\n              key: istio-namespace\n              name: someapp-config\n        name: someapp\n        volumeMounts:\n        - mountPath: /config\n          name: config-volume       #\n          readOnly: true\n      # \ud30c\ub4dc \ub808\ubca8\uc5d0\uc11c \ubcfc\ub968(config-volume)\uc744 \uc124\uc815\ud558\uace0, \ub9c8\uc6b4\ud2b8\ud55c\ub2e4\n      volumes:\n      - name: config-volume         #\n        configMap:\n          name: someapp-config      # \ucee8\ud53c\uadf8\ub9f5 \uc774\ub984\n")),(0,o.kt)("p",null,"\uc790, \uc774\uc81c \ucee8\ud53c\uadf8\ub9f5\uc744 \uc218\uc815\ud574 \ucee8\ud14c\uc774\ub108 \uc124\uc815\uc744 \ubcc0\uacbd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4! \ud83d\ude0a"),(0,o.kt)("br",null),(0,o.kt)("h2",{id:"tips"},"Tips"),(0,o.kt)("p",null,"\uae30\ubc00\uc744 \uc720\uc9c0\ud574\uc57c \ud558\ub294 \ub370\uc774\ud130\ub294 ",(0,o.kt)("a",{parentName:"p",href:"https://kubernetes.io/ko/docs/concepts/configuration/secret/"},(0,o.kt)("inlineCode",{parentName:"a"},"secret")),"\n\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.",(0,o.kt)("br",{parentName:"p"}),"\n","(\uc5b8\uc820\uac00 \uae00\uc744 \uc791\uc131\ud558\uaca0\uc2b5\ub2c8\ub2e4)"),(0,o.kt)("p",null,"PV\uc640 \uc0ad\uc81c\uc5d0 \uad00\ub828\ub41c \uae00\uc785\ub2c8\ub2e4.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("a",{parentName:"p",href:"https://jwher.github.io/k8s-tip-pv-terminating"},"Persistent Volume")),(0,o.kt)("h3",{id:"reference"},"Reference"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://kubernetes.io/ko/docs/concepts/configuration/configmap/"},"[\uacf5\uc2dd]\ucee8\ud53c\uadf8\ub9f5(ConfigMap)"),"  "))}f.isMDXComponent=!0},1635:function(e,t,n){t.Z=n.p+"assets/images/kubernetes-f91022b1deed067a9393dd3c42381ab7.svg"}}]);