"use strict";(self.webpackChunkjwher_blog=self.webpackChunkjwher_blog||[]).push([[5533],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return g}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(r),g=a,d=m["".concat(s,".").concat(g)]||m[g]||u[g]||i;return r?n.createElement(d,o(o({ref:t},c),{},{components:r})):n.createElement(d,o({ref:t},c))}));function g(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=r[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},2236:function(e,t,r){r.r(t),r.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return g},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return u}});var n=r(7462),a=r(3366),i=(r(7294),r(3905)),o=["components"],l={authors:["jwher"],description:"K8s tip: PersistentVolume terminating",slug:"k8s-tip-pv-terminating",tags:["tech","kubernetes","short"],title:"K8S Tip Pv Terminating"},s=void 0,p={permalink:"/posts/k8s-tip-pv-terminating",editUrl:"https://github.com/jwher/jwher.github.io/posts/2021-07-26-k8s-tip-pv-terminating/index.md",source:"@site/posts/2021-07-26-k8s-tip-pv-terminating/index.md",title:"K8S Tip Pv Terminating",description:"K8s tip: PersistentVolume terminating",date:"2021-07-26T00:00:00.000Z",formattedDate:"July 26, 2021",tags:[{label:"tech",permalink:"/posts/tags/tech"},{label:"kubernetes",permalink:"/posts/tags/kubernetes"},{label:"short",permalink:"/posts/tags/short"}],readingTime:1.385,truncated:!0,authors:[{name:"Jeongwon Her",title:"MLOps Engineer",url:"https://github.com/jwher",imageURL:"https://github.com/jwher.png",key:"jwher"}],frontMatter:{authors:["jwher"],description:"K8s tip: PersistentVolume terminating",slug:"k8s-tip-pv-terminating",tags:["tech","kubernetes","short"],title:"K8S Tip Pv Terminating"},prevItem:{title:"Variable Autoencoder",permalink:"/posts/variable-autoencoder"},nextItem:{title:"Free Wildcard Dns",permalink:"/posts/free-wildcard-dns"}},c={authorsImageUrls:[void 0]},u=[{value:"PV \uc0ad\uc81c\ud558\uae30",id:"pv-\uc0ad\uc81c\ud558\uae30",level:2},{value:"Tips",id:"tips",level:2},{value:"Reference",id:"reference",level:3}],m={toc:u};function g(e){var t=e.components,l=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"kubernetes",src:r(1635).Z,width:"723",height:"702"}),"\n",(0,i.kt)("em",{parentName:"p"},"\ucfe0\ubc84\ub124\ud2f0\uc2a4 PV \uc0ad\uc81c\ud558\uae30"),"  "),(0,i.kt)("h1",{id:"\ubaa9\ucc28"},"\ubaa9\ucc28"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#pv-%EC%82%AD%EC%A0%9C%ED%95%98%EA%B8%B0"},"PV \uc0ad\uc81c\ud558\uae30"))),(0,i.kt)("h2",{id:"pv-\uc0ad\uc81c\ud558\uae30"},"PV \uc0ad\uc81c\ud558\uae30"),(0,i.kt)("p",null,"\uc624\ub298\ub3c4 \uc778\ud504\ub77c \uad00\ub9ac\uc5d0 \uace8\uba38\ub9ac\ub97c \uc553\uace0 \uc788\ub294 \ub2f9\uc2e0, persistent volume\uc774 \uc9c0\uc6cc\uc9c0\uc9c0 \uc54a\ub294 \ud604\uc0c1\uc744 \ubc1c\uacac\ud55c\ub2e4.  "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"$ kubectl get pv\nNAME                 CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS        CLAIM                                       STORAGECLASS    REASON   AGE\nharbor-chartmuseum   5Gi        RWO            Retain           Terminating   harbor/chartmuseum                          local-storage            6d8h\nharbor-database      1Gi        RWO            Retain           Terminating   harbor/database                             local-storage            6d8h\nharbor-jobservice    1Gi        RWO            Retain           Terminating   harbor/jobservice                           local-storage            6d8h\nharbor-redis         1Gi        RWO            Retain           Terminating   harbor/redis                                local-storage            6d8h\nharbor-registry      160Gi      RWO            Retain           Terminating   harbor/registry                             local-storage            6d8h\nharbor-trivy         5Gi        RWO            Retain           Terminating   harbor/trivy                                local-storage            6d8h\n")),(0,i.kt)("p",null,"\uc774\ub294 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 persistent volume claim\uc5d0 binding \ub418\uc5b4 \uc788\uc5b4 \ubc1c\uc0dd\ud55c\ub2e4.  "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"$ kubectl edit pv harbor-database\n... \uc804\ub7b5 ...\nclaimRef:\n  name: data-harbor-redis-0\n  # \uc774\ud558 \ud574\ub2f9\ud558\ub294 \ud56d\ubaa9\uc744 \uc804\ubd80 \uc0ad\uc81c\ud55c\ub2e4.\n... \ud6c4\ub7b5 ...\n")),(0,i.kt)("p",null,"Zombie claim\uc744 \uc9c0\uc6cc\uc8fc\uba74 \ubc14\ub85c \uc0ac\ub77c\uc9c0\uac8c \ub41c\ub2e4!"),(0,i.kt)("p",{align:"center"},(0,i.kt)("img",{src:"/assets/img/doby-is-free.png"})),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"tips"},"Tips"),(0,i.kt)("p",null,"\uc624\ub298\ub3c4 \ud55c\uace0\ube44 \ub118\uacbc\ub124\uc694 \ud83d\ude13",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("del",{parentName:"p"},"\uc0ac\uc2e4 \uc774 \ubb38\uc81c\ub294 \uc644\uc804\ud788 \uc0ad\uc81c\ub418\uae38 \uae30\ub2e4\ub9ac\uc9c0 \ubabb\ud574\uc11c \ubc1c\uc0dd\ud588\uc744 \uac00\ub2a5\uc131\uc774 \ub192\uc2b5\ub2c8\ub2e4"),(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("del",{parentName:"p"},(0,i.kt)("em",{parentName:"del"},"\uc774\ubbf8 \uc54c\uace0\uc788\uc5c8\ub2e4\uace0\uc608?"))),(0,i.kt)("h3",{id:"reference"},"Reference"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"http://www.google.com"},"www.google.com")))}g.isMDXComponent=!0},1635:function(e,t,r){t.Z=r.p+"assets/images/kubernetes-f91022b1deed067a9393dd3c42381ab7.svg"}}]);